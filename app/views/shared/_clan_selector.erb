<script src="/clanes/clan_selector_list" type="text/javascript"></script>

<input type="text" class="text" id="clan_lookup" name="<%=field_name%>" />
<div class="auto_complete autocomplete" id="clan_lookup_auto_complete" ></div>
<script type="text/javascript">
	<% @clans = Clan.find(:all, :order => 'lower(name) ASC') -%>
var clans_selector = new Array(<%= @clans.size %>);
<% @clans.each_with_index do |clan, index| %>
clans_selector[<%=index%>] = "<%=clan.name %>" ;
<% end %>

	</script>
<%= javascript_tag("new Autocompleter.Local('clan_lookup', 'clan_lookup_auto_complete', clans_selector, {fullSearch: true, frequency: 0, minChars: 1 });") %>
